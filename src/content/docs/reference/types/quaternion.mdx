---
title: Quaternion Type
description: Reference for quaternion type and library in SLua
sidebar:
    order: 4
    label: quaternion
---

:::danger[Upcoming]
The [new API for quaternions](https://github.com/secondlife/slua/blob/ffe7276dffe8580ceec35c6acbe5874fbcf31482/VM/src/llsl.cpp#L1541-L1585) which adds the `quaternion.*` methods is not released yet.

Last checked: _Luau 2025-12-04.19944688578_
:::

```slua
-- Constants
quaternion.identity: quaternion -- quaternion(0, 0, 0, 1)

-- Operators
quaternion * quaternion: quaternion -- rotate quaternion by another quaternion
quaternion / quaternion: quaternion -- ...in the inverse direction
vector * quaternion: vector -- rotate vector by quaternion
vector / quaternion: vector -- rotate vector by inverse of quaternion
quaternion + quaternion: quaternion -- adds corresponding components
quaternion - quaternion: quaternion -- subtracts corresponding components
-quaternion: quaternion -- negates all components; Does not produce the inverse rotation!

-- Component Access
quaternion.x: number
quaternion.y: number
quaternion.z: number
quaternion.s: number

-- Constructors and Conversion
function quaternion(x: number, y: number, z: number, s: number): quaternion
function quaternion.create(x: number, y: number, z: number, s: number): quaternion
function toquaternion(string: string): quaternion

-- Methods
function quaternion.normalize(q: quaternion): quaternion
function quaternion.magnitude(q: quaternion): number
function quaternion.conjugate(q: quaternion): quaternion
function quaternion.dot(a: quaternion, b: quaternion): number
function quaternion.slerp(a: quaternion, b: quaternion, t: number): quaternion
function quaternion.tofwd(q: quaternion): vector
function quaternion.toleft(q: quaternion): vector
function quaternion.toup(q: quaternion): vector
```

:::note[Tip]
Unlike vector methods where you want to avoid using the colon syntax for performance reasons, quaternions dont have the fastcall optimisations, so feel free to use the colon syntax for better readability.

Methods that start with a quaternion as an argument can be called using the colon syntax:
```slua
local quat = quaternion(0, 0, 0, 1)
local normalized = quat:normalize()

-- example with chaining methods
local rotatedVector = vector(1, 0, 0) / quat:normalize():slerp(quaternion.identity, 0.5)
```
:::


## Rotation Alias

Quaternions are also aliased as `rotation` in SLua, which includes `torotation` as an alias for `toquaternion`. This is a nomenclature holdover from LSL.
